plugins {
    id 'com.android.library'
    id 'org.jetbrains.kotlin.android'
    id 'kotlin-kapt'
    id 'maven-publish'
}

android {
    compileSdkVersion 31

    defaultConfig {
        minSdkVersion 21
        targetSdkVersion 31

        buildConfigField "String", "APPCENTER_KEY", "\"" + System.env.APPCENTER_KEY + "\""
    }

    buildFeatures {
        dataBinding true
    }

    lintOptions {
        warningsAsErrors true
    }
    viewBinding {
        enabled = true
    }
    buildFeatures {
        compose true
    }
    composeOptions {
        kotlinCompilerExtensionVersion compose_version
    }
}

task sourceJar(type: Jar) {
    from android.sourceSets.main.java.srcDirs
    classifier "sources"
}

dependencies {

    implementation project(':library')
    implementation 'androidx.activity:activity-compose:1.4.0'

    testImplementation 'junit:junit:4.13'
}

apply from: "${rootProject.projectDir}/mavencentral.gradle"
